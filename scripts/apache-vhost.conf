<VirtualHost *:80>
    ServerName 192.168.76.76
    ServerAlias localhost
    
    DocumentRoot /var/www/html/projet-web/public
    
    <Directory /var/www/html/projet-web/public>
        AllowOverride All
        Require all granted
        
        # Enable mod_rewrite
        <IfModule mod_rewrite.c>
            RewriteEngine On
            RewriteBase /
            
            # Don't rewrite actual files or directories
            RewriteCond %{REQUEST_FILENAME} !-f
            RewriteCond %{REQUEST_FILENAME} !-d
            
            # Rewrite all requests to index.php
            RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
        </IfModule>
    </Directory>
    
    # Deny access to sensitive files
    <FilesMatch "\.env|\.git|composer\.json|composer\.lock">
        Deny from all
    </FilesMatch>
    
    # Log files
    ErrorLog ${APACHE_LOG_DIR}/projet-web-error.log
    CustomLog ${APACHE_LOG_DIR}/projet-web-access.log combined
</VirtualHost>
